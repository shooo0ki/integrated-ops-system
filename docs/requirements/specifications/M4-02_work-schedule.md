# M4-02 勤務予定登録

## 目的
翌週の勤務予定（曜日ごとの開始・終了時刻）をシステムに登録する。時給制メンバーが毎週利用。

## 対象ペルソナ / シナリオ
- 山田（インターン）: S1 打刻の前提となる週次予定登録

## UI 構成
- 対象週表示（翌週の日付）
- 曜日別時刻入力（**月〜日** × 開始・終了）※土日も必ず行を表示
- 「終日休み」チェックボックス（曜日単位）
- 前週からコピーボタン
- 保存ボタン

## 入力項目
| 項目 | 必須 | 制約 | 例 |
|------|------|------|----|
| 曜日（月〜日） | — | — | — |
| 開始時刻 | 条件付 | 出勤する曜日は必須 | `10:00` |
| 終了時刻 | 条件付 | 開始時刻以降 | `19:00` |
| 勤務形態 | 必須 | 出社 / オンライン | `出社` |

## 操作
| 操作 | 説明 |
|------|------|
| 前週からコピー | 前週の設定を翌週にコピー |
| 保存 | 勤務予定を登録（上書き） |
| 前日までは変更可能 | 当日以降の変更は管理者のみ |

## エラー / 例外
| 条件 | メッセージ |
|------|-----------|
| 終了時刻 ≤ 開始時刻 | 「終了時刻は開始時刻より後に設定してください」 |
| 当日以降の変更（本人） | 「当日以降の予定変更は管理者のみ行えます」 |

## 権限（ロール別）
| ロール | 操作 |
|--------|------|
| 管理者 | 全員分を登録・変更可 |
| その他 | 自分のみ（前日まで変更可） |

## 関連データ（エンティティ）
- `WORK_SCHEDULE`、`MEMBER`

## 関連 API
- `GET /api/work-schedules?memberId=&week=`
- `PUT /api/work-schedules`

## ワイヤーフレーム（ASCII）
```
┌───────────────────────── 翌週の勤務予定 ─────────────────────────┐
│ 対象週: 2026/03/02 - 2026/03/08                                   │
│ [前週からコピー]                                    [ 保存 ]       │
│                                                                     │
│ 月 | 開始 10:00 | 終了 19:00 | [ ] 終日休み                         │
│ 火 | 開始 10:00 | 終了 19:00 | [ ] 終日休み                         │
│ 水 | 開始 10:00 | 終了 15:00 | [ ] 終日休み                         │
│ 木 | 開始 12:00 | 終了 20:00 | [ ] 終日休み                         │
│ 金 | 開始 10:00 | 終了 18:00 | [ ] 終日休み                         │
│ 土 | 開始  --   | 終了  --   | [x] 終日休み                         │
│ 日 | 開始  --   | 終了  --   | [x] 終日休み                         │
│                                                                     │
│ バリデーション: 終了 ≤ 開始 → 「終了時刻は開始時刻より後に設定してください」 │
│ 権限: 本人は前日まで変更可 / 管理者はいつでも変更可                        │
└────────────────────────────────────────────────────────────────────┘
```
