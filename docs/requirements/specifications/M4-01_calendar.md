# M4-01 全体カレンダー

## 目的
全メンバーの勤務予定・実績をカレンダー形式で一覧表示する。チームの稼働状況を視覚的に把握する。

## 対象ペルソナ / シナリオ
- 田中（マネージャー）: 週初めの稼働確認
- 鈴木（社員）: 自分と同僚の予定確認

## UI 構成
- 表示切替タブ（週間 / 日別 / 月別）
- フィルターバー（PJ / 所属会社 / メンバー）
- カレンダーグリッド
  - 行: メンバー名
  - 列: 日付
  - セル: 勤務予定（薄色） / 実績（濃色）
- 凡例（予定 / 実績 / 休日）

## 表示項目
| 項目 | 説明 |
|------|------|
| 勤務予定 | 薄い緑で塗り、開始〜終了時刻を表示 |
| 出勤実績 | 濃い緑で塗り、実際の出退勤時刻を表示 |
| 未出勤（予定ありの当日以前） | オレンジ強調（打刻漏れ候補） |

## 操作
| 操作 | 説明 |
|------|------|
| 表示期間切替 | 週 / 日 / 月の切り替え |
| PJ フィルター | 特定 PJ のメンバーのみ表示 |
| メンバー名クリック | M1-02 メンバー詳細へ遷移 |
| セルクリック | 当日の勤怠詳細（出勤時刻・日報）を表示 |

## エラー / 例外
| 条件 | 挙動 |
|------|------|
| データ取得失敗 | エラートースト表示 |

## 権限（ロール別）
| ロール | 閲覧範囲 |
|--------|---------|
| 管理者 | 全員 |
| マネージャー | 担当 PJ メンバー + 自分 |
| 社員 | 全員（基本情報のみ） |
| インターン | 担当 PJ メンバー + 自分 |

## 関連データ（エンティティ）
- `WORK_SCHEDULE`、`ATTENDANCE`、`MEMBER`、`PROJECT_ASSIGNMENT`

## 関連 API
- `GET /api/calendar?from=&to=&projectId=&memberId=`

## ワイヤーフレーム（ASCII）
```
┌──────────────────────────── 全体カレンダー ────────────────────────────┐
│ タブ: [週] [月] [日]                                                     │
│ フィルタ: プロジェクト[▼]  会社[All/Boost/SALT2]  メンバー[▼]             │
│ 凡例: 予定░  実績▓  打刻漏れ🟧                                            │
│                                                                           │
│        月        火        水        木        金        土        日      │
│ 佐藤   ░░░░░     ▓▓▓▓     ░░░░     ▓▓▓▓     ░░░░     □□       □□         │
│ 田中   ░░░░░     ░░░░     ░░░░     ▓▓▓▓     ░░░░     □□       □□         │
│ 鈴木   ░░░░░     ░░░░     🟧        ░░░░     ▓▓▓▓     □□       □□         │
│ 山田   ░░░░░     ░░░░     ░░░░     ░░░░     🟧        □□       □□         │
│                                                                           │
│ 行ヘッダークリック → メンバー詳細（週スケジュールを最上部表示）           │
│ セルクリック → 当日の詳細モーダル（出退勤時刻・日報）                     │
└───────────────────────────────────────────────────────────────────────┘
```
