# M4-01 全体カレンダー

## 目的
全メンバーの勤務予定・実績をカレンダー形式で一覧表示する。チームの稼働状況を視覚的に把握する。

> **カレンダー vs 勤務予定の違い**:
> - **M4-01 カレンダー（本画面）**: 全メンバーの勤務状況を「見る」画面。全員が閲覧可能。
> - **M4-02 勤務予定登録**: 自分の翌週の予定を「入力する」画面。個人操作用。

## 対象ペルソナ / シナリオ
- 全メンバー: チームの稼働状況・自分の予定を確認
- 田中（マネージャー）: 週初めの稼働確認
- 鈴木（社員）: 自分と同僚の予定確認

## UI 構成
- 表示切替タブ（週間 / 月別）
- フィルターバー（**プロジェクト別** / 所属会社 / メンバー）
- カレンダーグリッド
  - 行: メンバー名
  - 列: 日付（**土日も表示**。土日勤務あり）
  - セル: 勤務予定（薄色） / 実績（濃色）
- 凡例（予定 / 実績 / 休日 / 打刻漏れ）

> **設計メモ**: 土日も通常の勤務日として扱い、カレンダーに表示する。
> プロジェクト別フィルターにより、特定 PJ アサインメンバーのみ絞り込めると便利。

## 表示項目
| 項目 | 説明 |
|------|------|
| 勤務予定 | 薄い緑で塗り、開始〜終了時刻を表示 |
| 出勤実績 | 濃い緑で塗り、実際の出退勤時刻を表示 |
| 勤務場所 | 「出社」「オンライン」を小ラベルで表示 |
| 未出勤（予定ありの当日以前） | オレンジ強調（打刻漏れ候補） |

## 操作
| 操作 | 説明 |
|------|------|
| 表示期間切替 | 週 / 月の切り替え |
| **プロジェクトフィルター** | 特定 PJ にアサインされているメンバーのみ表示 |
| 所属会社フィルター | Boost / SALT2 / 全員 |
| メンバー名クリック | M1-02 メンバー詳細へ遷移 |
| セルクリック | 当日の勤怠詳細（出勤時刻・勤務場所・日報）を表示 |

## エラー / 例外
| 条件 | 挙動 |
|------|------|
| データ取得失敗 | エラートースト表示 |

## 権限（ロール別）

> **変更点**: カレンダーは管理者だけでなく全ロールが閲覧可能。

| ロール | 閲覧範囲 |
|--------|---------|
| 管理者 | 全員 |
| マネージャー | 全員 |
| メンバー（社員・インターン共通） | 全員 |

## 関連データ（エンティティ）
- `WORK_SCHEDULE`、`ATTENDANCE`、`MEMBER`、`PROJECT_ASSIGNMENT`

## 関連 API
- `GET /api/calendar?from=&to=&projectId=&memberId=&company=`

## ワイヤーフレーム（ASCII）
```
┌──────────────────────────── 全体カレンダー ────────────────────────────┐
│ タブ: [週] [月]                                                          │
│ フィルタ: プロジェクト[▼全PJ]  会社[All/Boost/SALT2]  メンバー[▼全員]    │
│ 凡例: 予定░  実績▓  打刻漏れ🟧  出社🏢  オンライン💻                     │
│                                                                           │
│        月        火        水        木        金        土        日      │
│ 佐藤   ░出社░    ▓在宅▓    ░出社░    ▓出社▓    ░在宅░    □□       □□     │
│ 田中   ░在宅░    ░在宅░    ░在宅░    ▓出社▓    ░在宅░    ░在宅░    □□     │
│ 鈴木   ░出社░    ░出社░    🟧         ░在宅░    ▓出社▓    □□       □□     │
│ 山田   ░在宅░    ░在宅░    ░在宅░    ░在宅░    🟧         □□       □□     │
│                                                                           │
│ セルクリック → 当日の詳細モーダル（出退勤時刻・勤務場所・日報）           │
└───────────────────────────────────────────────────────────────────────┘
```
