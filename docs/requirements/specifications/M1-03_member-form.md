# M1-03 メンバー登録 / 編集

## 目的
新規メンバーを登録、または既存メンバーの情報を更新する。

## 対象ペルソナ / シナリオ
- 佐藤（管理者）: 新入社員・インターン追加、報酬変更

## UI 構成
- フォーム（セクション分割）
  - 基本情報
  - 雇用情報（ステータス・ロール・報酬）
  - 銀行口座情報
  - ログインアカウント設定（メール・OAuth プロバイダー）
- 保存ボタン / キャンセルボタン

## 入力項目
| 項目 | 必須 | 制約 | 例 |
|------|------|------|----|
| 氏名 | 必須 | 最大 100 文字 | `山田 さくら` |
| メールアドレス | 必須 | メール形式・一意 | `yamada@example.com` |
| 電話番号 | 任意 | 数字・ハイフン | `090-1234-5678` |
| 住所 | 条件付 | 時給制メンバーは必須 | `東京都渋谷区...` |
| ステータス | 必須 | 役員 / 社員 / 本採用インターン / 研修インターン / 研修メンバー | — |
| ロール | 必須 | 管理者 / マネージャー / 社員 / インターン | — |
| 報酬形態 | 必須 | 時給制 / 月額固定 | — |
| 報酬金額 | 必須 | 正の整数 | `1500`（時給）|
| 所属会社 | 必須 | ブーストコンサルティング / SALT2 | — |
| 入社日 | 必須 | YYYY-MM-DD | `2026-04-01` |
| 退社日 | 任意 | 入社日以降 | — |
| 銀行名 | 条件付 | 時給制メンバーは必須 | `三菱 UFJ 銀行` |
| 支店名 | 条件付 | 時給制メンバーは必須 | `渋谷支店` |
| 口座番号 | 条件付 | 時給制メンバーは必須・数字 7 桁 | `1234567` |
| 口座名義 | 条件付 | 時給制メンバーは必須 | `ヤマダ サクラ` |
| プロフィール画像 | 任意 | JPEG / PNG / 5MB 以内 | — |
| 利用ツール | 任意 | 複数可。ツール名/プラン/月額/請求先会社(Boost/SALT2) | `Claude Pro / ¥6,800 / Boost` |

## 操作
| 操作 | 説明 |
|------|------|
| 保存 | バリデーション後 DB に保存 |
| キャンセル | 変更破棄して M1-02 or M1-01 に戻る |

## エラー / 例外
| 条件 | メッセージ |
|------|-----------|
| メール重複 | 「このメールアドレスはすでに登録されています」 |
| 時給制で住所空 | 「時給制メンバーは住所を入力してください」 |
| 退社日 < 入社日 | 「退社日は入社日以降に設定してください」 |

## 権限（ロール別）
| ロール | 操作 |
|--------|------|
| 管理者 | 新規登録・全項目編集（口座・契約書送信・ツール費含む） |
| 社員・インターン | 自分の一部項目のみ編集（氏名・電話・住所・銀行口座） |
| マネージャー | 不可（ただし担当PJの閲覧のみ可） |

## 関連データ（エンティティ）
- `MEMBER`、`USER_ACCOUNT`

## 関連 API
- `POST /api/members`
- `PUT /api/members/:id`
- `POST /api/upload/avatar`
