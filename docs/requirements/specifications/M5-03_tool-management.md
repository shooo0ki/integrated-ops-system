# M5-03 ツール管理

## 目的
メンバーが利用する有料 SaaS・ツールの契約情報と月額コストを一覧管理する。
PL 計算のツール費用の自動集計ソースとなる。

## 対象ペルソナ / シナリオ
- 佐藤（管理者）: 月次ツールコストの確認・追加・削除

## 会社名義ツールの扱い

> **設計メモ**: AWS など会社名義の SaaS は、人（メンバー）ではなく会社がオーナーとなる。
> 実装上は「SALT2」という名前の擬似メンバーを作成し、そのメンバーのオーナーとしてツールを登録する。
> これにより、ツール一覧・PL 計算・請求書の仕組みをメンバーと同様の構造で統一できる。

```
例:
  AWS (本番環境)   → オーナー: SALT2（擬似メンバー）, 月額: ¥50,000
  GitHub Team      → オーナー: SALT2（擬似メンバー）, 月額: ¥10,000
  Cursor           → オーナー: 山田太郎（インターン）, 月額: ¥3,000
```

## UI 構成
- フィルターバー（会社 / メンバー / ツール名キーワード）
- ツール一覧テーブル
- ツール追加モーダル
- KPI サマリー（総月額コスト / Boost負担 / SALT2負担）

## フィルター
| フィルター | 形式 | 説明 |
|-----------|------|------|
| 会社フィルター | ドロップダウン（Boost / SALT2 / ALL） | 請求先会社で絞り込み |
| メンバーフィルター | ドロップダウン（メンバー名 / ALL） | オーナーで絞り込み |
| ツール名検索 | テキスト入力 | 部分一致 |

## 表示項目
| 項目 | 説明 |
|------|------|
| ツール名 | — |
| プラン | 契約プラン名 |
| オーナー（メンバー） | 利用者または擬似メンバー（SALT2 など） |
| 月額コスト | 円 |
| 請求先会社 | Boost / SALT2 |
| 備考 | 自由記述 |
| 操作 | 編集 / 削除 |

## 入力項目
| 項目 | 必須 | 制約 | 例 |
|------|------|------|----|
| ツール名 | 必須 | 最大 100 文字 | `GitHub Team` |
| プラン | 任意 | 最大 50 文字 | `Team` |
| オーナー（メンバー） | 必須 | メンバー一覧から選択（SALT2 擬似メンバー含む） | `SALT2` |
| 月額コスト | 必須 | 0 以上の整数 | `10000` |
| 請求先会社 | 必須 | Boost / SALT2 | `SALT2` |
| 備考 | 任意 | 最大 200 文字 | `本番環境AWS費用` |

## 操作
| 操作 | 説明 |
|------|------|
| ツール追加 | モーダルから新規登録 |
| 編集 | 既存ツールの情報を変更 |
| 削除 | ツール契約を削除（確認ダイアログあり） |

## 権限（ロール別）
| ロール | 閲覧 | 追加・編集・削除 |
|--------|------|----------------|
| 管理者 | 全員分 | ○ |
| マネージャー | 全員分 | 不可 |
| メンバー（社員・インターン共通） | 自分分のみ | 不可 |

## 関連データ（エンティティ）
- `MEMBER_TOOL`、`MEMBER`

## 関連 API
- `GET /api/tools?company=&memberId=&search=`
- `POST /api/tools`
- `PUT /api/tools/:id`
- `DELETE /api/tools/:id`
