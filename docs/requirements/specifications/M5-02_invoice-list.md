# M5-02 請求書一覧

## 目的
生成された請求書を一覧表示し、ダウンロード・再生成を行う。インターンが請求書を取得する最終窓口。

## 対象ペルソナ / シナリオ
- 山田（インターン）: S2 請求書ダウンロード・経理提出
- 佐藤（管理者）: 全体の請求書発行状況確認

## UI 構成
- 対象月フィルター
- メンバーフィルター（管理者のみ）
- 請求書テーブル
- ダウンロードボタン
- 再生成ボタン（管理者のみ）

## 表示項目
| 項目 | 説明 |
|------|------|
| 請求書番号 | 自動採番（YYYY-MM-連番） |
| 対象年月 | — |
| 氏名 | — |
| 勤務時間合計 | — |
| 時給単価 | 管理者のみ |
| 請求金額（税抜・税込） | — |
| 発行日 | — |
| Slack 送付状態 | 送付済 / 未送付 |

## 操作
| 操作 | 説明 |
|------|------|
| ダウンロード | Excel ファイル（.xlsx）をダウンロード |
| 再生成 | 管理者が勤怠修正後に再生成 |
| Slack 再送 | Slack DM に再送信 |

## エラー / 例外
| 条件 | 挙動 |
|------|------|
| ファイルが存在しない | 「請求書が見つかりません。再生成してください」 |
| Slack 再送失敗 | エラートースト |

## 権限（ロール別）
| ロール | 閲覧 | ダウンロード | 再生成 |
|--------|------|------------|-------|
| 管理者 | 全員分 | ○ | ○ |
| インターン・社員 | 自分のみ | ○ | 不可 |

## 関連データ（エンティティ）
- `INVOICE`、`MEMBER`、`ATTENDANCE`

## 関連 API
- `GET /api/invoices?month=&memberId=`
- `GET /api/invoices/:id/download`
- `POST /api/invoices/:id/regenerate`
- `POST /api/invoices/:id/resend-slack`
