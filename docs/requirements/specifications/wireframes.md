# 画面ワイヤーフレーム集（ASCII）
各仕様書（`docs/requirements/specifications/*.md`）に対応する簡易ワイヤーを1ファイルに集約。Biz/Dev両者が俯瞰できるよう、要素名と主ボタン・リスト構造を示す。

---
## 共通UI + 権限制御方針（全画面共通）
- 画面レイアウトは全ロール共通とし、権限に応じて「表示/非表示/閲覧のみ/活性」を切り替える。
- 権限外フィールドは原則非表示または「鍵アイコン＋グレーアウト」で明示し、サーバ側でも取得/更新を拒否する（RLS/ロールチェック必須）。
- ボタン活性は API から返す permission flags (`canView`/`canEdit`/`canApprove`/`canDownload`/`canSendSlack` など) で制御する。
- 設定画面は管理者専用（403）。他画面は共通導線のまま、ロールごとに活性/表示のみ変更。
- 代表パターン
  - メンバー詳細: 共通レイアウト。報酬/銀行/ツール/契約は管理者・本人のみ表示。他ロールはスケジュール/スキル/配属PJのみ閲覧。
  - 勤怠一覧: 共通テーブル。編集/承認は管理者・担当Mgrのみ、本人は自分行だけ編集可。
  - アサイン管理: 共通UI。管理者/担当Mgrのみ編集、他ロールは閲覧。
  - 請求書一覧: 共通UI。管理者=全員＋再生成/送付、社員・インターン=自分のみDL可。

---
## C-01 ログイン（Phase1）
```
┌──────── ログイン ────────┐
│ ロゴ | SALT2業務管理      │
│ メール: [_____________]    │
│ パスワード: [__________] 👁│
│ [ ログイン ]               │
│ エラー: 「メールまたはパスワードが正しくありません」│
│ v1.0 | Boost / SALT2      │
└─────────────────────────┘
```

## C-02 ダッシュボード（跨フェーズだがPhase2以降で有効データが揃う）
```
┌─ヘッダー: ナビ | 会社[Boost▼] | ユーザー │
├─今日の勤怠: 状態/出退勤ボタン/タスク/会社別請求見込み
├─自分の週スケジュール: 帯カレンダー(月~日, 打刻漏れ🟧)
├─担当プロジェクト[Boost/SALT2, 役割, 稼働%]
├─お知らせ・アラート: 未打刻警告 / 月末締め通知 / Slack送信失敗など
├─チーム在席リスト(全員閲覧)
├─全体カレンダー(週/月, PJ/会社/メンバーfilter, ░予定/▓実績/🟧漏れ)
├─サマリー(管理者: 未打刻, 締め, PL/会社別請求; Mgr: 担当稼働)
└─フッター: 勤務予定/打刻/勤怠一覧/請求/PLCF
```

## C-03 設定（Phase2〜）
```
┌─設定 ───────────────────────────────┐
│ 左ナビ: ユーザー管理 / 会社マスタ / 権限 / 通知設定 / Slack連携 │
│ 右ペイン(例: 通知設定)                                          │
│  Slack Webhook URL [________]  [保存]                            │
│  出勤通知ON/OFF  退勤通知ON/OFF                                  │
└────────────────────────────────────┘
```

## M1-01 メンバー一覧（Phase1）
```
┌─フィルタ: 会社 / ステータス / ロール / キーワード ─┐
│ [メンバー追加]                                       │
│ テーブル: 氏名 | ロール | ステータス | 所属会社 | PJ数 | アクション(View/Edit) │
└───────────────────────────────────────────────┘
```

## M1-02 メンバー詳細（Phase1）
```
┌─基本情報カード(氏名/ロール/会社/連絡先)   [編集] ┐
├─利用ツール一覧: ツール名 / プラン / 月額 / 請求先会社(Boost/SALT2) │
│   ・管理者は追加/編集/削除可、本人は閲覧のみ                     │
├─契約書セクション: 契約書一覧(PDF) / ステータス(未送信/送信済/署名待ち/締結) / [ダウンロード] │
│   ・ステータスが「締結」の行では送信系ボタン非表示/無効化、ヘッダに「契約書締結済み」を表示 │
├─週間スケジュール(最上部、帯表示)               │
├─スキル一覧(レーダー/表)                        │
├─担当プロジェクト(役割, 稼働%は勤怠配分集計表示)    │
├─勤怠サマリー(月次・日別配分の集計)                 │
└─権限: 会社ラベルのみ表示。稼働配分は日々の配分入力から自動集計 ┘
※ 閲覧権限: 管理者/本人=全項目。その他ロールは「週間スケジュール」「担当PJ」「スキルサマリー」のみ閲覧可（報酬・銀行口座・ツール・契約書は非表示）
```

## M1-03 メンバー登録/編集（Phase1）
```
┌─フォーム ─────────────────────────────┐
│ 氏名/メール/電話/住所/銀行口座/ステータス/ロール │
│ 報酬形態・金額 | 所属会社（Boost/SALT2ラベルのみ）            │
│ 利用ツール: [追加][削除] ツール名+プラン(プルダウン) / 月額(数値) / 請求先会社(Boost/SALT2、初期値=所属会社) │
│ 契約書生成: [DocuSignで送信] （テンプレート選択→氏名/住所/日付・報酬条件を自動差し込み）※ツール追加とは別枠 │
│   ・締結済みテンプレートは送信ボタン非活性、「契約書締結済み」ラベルのみ表示             │
│ プロフィール画像アップロード                         │
│ [保存] [キャンセル]                                   │
└────────────────────────────────────┘
```

## M2-01 スキルマトリクス（Phase1）
```
┌─タブ: [Dev] [Biz] ──────────────────────────┐
│ フィルタ: カテゴリ / 最低レベル / 会社               │
│ テーブル: 行=メンバー, 列=スキル項目, セル=レベル1-5 │
│ 色分け: 1灰 / 2黄 / 3緑 / 4青 / 5紫                 │
│ 未評価: "—" グレー                                   │
│ 3ヶ月未更新行: オレンジ強調                          │
└────────────────────────────────────────┘
```

## M2-02 スキル設定（Phase1）
```
┌─カテゴリ/スキル項目の並び替え・追加 ───────────┐
│ [カテゴリ追加] [スキル追加] (ドラッグで並替)    │
│ リスト: カテゴリ > スキル項目 [編集][削除]       │
└─────────────────────────────────────┘
```

## M2-03 スキル評価入力（Phase1）
```
┌─メンバー選択[▼]  スキルリスト ──────────────┐
│ スキル行: 名称 | レベル(0-4ラジオ) | メモ[____] │
│ [保存]                                              │
└──────────────────────────────────────┘
```

## M3-01 プロジェクト一覧（Phase2）
```
┌─フィルタ: 会社ラベル(Boost/SALT2) / ステータス ─┐
│ [プロジェクト追加]                                 │
│ テーブル: 名称 | 会社ラベル | ステータス | 期間 | 予算 | アクション │
└───────────────────────────────────────────┘
```

## M3-02 プロジェクト詳細（Phase2）
```
┌─概要カード: 名称/会社ラベル/ステータス/期間/契約金額 ┐
├─ポジション一覧(役割/担当/稼働%/開始-終了) [編集]        │
├─アサインメンバー表(氏名/役割/工数h・%/スキル適合度)     │
├─工数配分グラフ(月次, メンバー別)                        │
└─リンク: アサイン管理(M3-04) / 工数管理(M3-05)           ┘
```

## M3-03 プロジェクト登録/編集（Phase2）
```
┌─フォーム ────────────────────────────┐
│ 名称 | 会社ラベル | ステータス | 期間 | 契約金額 | 説明           │
│ ポジション定義(役割/必要スキル/人数) [追加]                   │
│ [保存] [キャンセル]                                           │
└────────────────────────────────────┘
```

## M3-04 アサイン管理（Phase2）
```
┌─必要スキル: FE>=3, BE>=3, Infra>=2 を表示 ─────────────┐
│ フィルタ: スキル一致 ON/OFF (デフォルトOFF) / 会社             │
│ 左リスト: メンバー(スキル適合度バー・✅⚠️) → 右へドラッグで割当 │
│ 右パネル: 役割/ 月間想定工数(h) / 開始 / 終了(任意)             │
│ [保存]                                                         │
└────────────────────────────────────────────────────┘
```

## M3-05 工数管理（Phase2）
```
┌─月選択[▼] プロジェクト[▼] ────────────────────────────┐
│ テーブル: メンバー | 想定工数(h/% ) | 実績工数 | 差分 | メモ          │
│ グラフ: 工数バー(想定vs実績)                                      │
│ [CSV出力]                                                         │
└──────────────────────────────────────────────────────────┘
```

## M4-01 全体カレンダー（Phase2）
（詳細は各画面仕様参照）
```
週/月/日タブ + フィルタ(PJ/会社/メンバー) + グリッド(行=メンバー, 列=日付, ░予定/▓実績/🟧漏れ)
行クリック→メンバー詳細, セルクリック→日別詳細
```

## M4-02 勤務予定登録（Phase2）
```
対象週表示 / 前週コピー / 曜日ごと開始・終了・終日休み（**月〜日=土日含む7日分必ず表示**）/ 保存 / 勤務形態（出社 or オンライン）を各日に指定
```

## M4-03 打刻（Phase2）
```
未出勤: 現在時刻 + 今日やること + [出勤する]
出勤後: 出勤時刻 + 休憩(分) + 今日やったこと + 明日やること + [退勤する]
退勤後: 出退勤・実働サマリー + Slack送信結果(成功/失敗トースト) + プロジェクト配分入力（分・% 双方向入力、%を入れると実働×%で分に自動計算） + [勤怠一覧へ]
エラー: 二重出勤で警告 / Slack失敗でも記録は保持 / 配分合計≠実働でバリデーション
```

## M4-04 勤怠一覧（Phase2）
```
月/メンバー選択 → 日別テーブル(出退勤/休憩/実働/日報/状態) + 月次サマリー + OK/修正依頼 + 会社別請求見込
管理者/担当Mgrのみ承認ボタン、承認済みは編集不可（ロック表示）
```

## M5-01 月末締め管理（Phase3）
```
┌─対象月[▼] ────────────────────────────────┐
│ メンバー別ステータス: 未確認/確認済/承認済/請求生成済            │
│ 行: 氏名 | 勤務時間 | 給与見込 | 状態 | アクション(リマインド/再集計) │
│ 会社別請求額: Boost / SALT2 を行内またはサマリーで表示                     │
│ [締め処理を実行]  [再集計]                                          │
└──────────────────────────────────────────┘
```

## M5-02 請求書一覧（Phase3）
```
┌─月[▼] メンバー[▼] 会社[Boost/SALT2] ──────────────┐
│ テーブル: 請求書番号 | メンバー | 会社別請求額(Boost/SALT2) | 発行日 | ステータス | [DL] │
│ [再生成] [Slackで送付(本人DM添付)]                                           │
└──────────────────────────────────────────────┘
```

## M6-01 プロジェクトPL（Phase3）
```
┌─プロジェクト[▼] 月[▼] (管理者のみ閲覧) ──────────────────────┐
│ 表: 売上(契約/追加) | コスト(月額人件/時給人件/外注/ツール費/その他) | 粗利 | 粗利率 │
│ グラフ: 月次推移ライン                                     │
└────────────────────────────────────────────────────┘
```

## M6-02 全社PLサマリー（Phase3）
```
┌─月[▼] 会社フィルタ[All/Boost/SALT2] (管理者) ───────────────┐
│ 表: 会社別 売上/コスト(人件・外注・ツール・その他)/粗利 | プロジェクト別ランキング         │
│ グラフ: 会社別月次推移                                         │
└────────────────────────────────────────────────────────┘
```

## M6-03 キャッシュフロー（Phase3）
```
┌─月[▼] 会社[Boost/SALT2] (管理者, 手入力ベース) ───────────┐
│ テーブル: 入金項目/金額/日付 | 出金項目/金額/日付 | [追加]            │
│ 差引残高と推移グラフ（手入力データを即時反映）                    │
└─────────────────────────────────────────────────────┘
```

---
# Phase別MVPワイヤー（何を先に作るかを明示）

## Phase1 (MVP-基盤): 認証 + M1 メンバー + M2 スキル
```
認証: C-01 ログイン（メール+パスワード） → セッション取得

M1-01 メンバー一覧
┌─フィルタ(会社/ステータス/ロール)───────────────┐
│ [メンバー追加]                                  │
│ 氏名 | ロール | ステータス | 会社 | PJ数 | View │
└─────────────────────────────────────────┘

M1-02 メンバー詳細
┌─基本情報 + 会社ラベル + 会社別稼働配分 ─┐
├─週間スケジュール(帯)                    │
├─スキル一覧(表/レーダー)                 │
└─担当PJは未実装 placeholder             ┘

M2-01 スキルマトリクス
┌─行=メンバー / 列=スキル / セル=レベル0-4 ─┐
│ フィルタ: カテゴリ/レベル/会社            │
└───────────────────────────────────┘

M2-02/03 スキル設定・評価入力
┌─カテゴリ/スキル追加・並替 + 評価入力フォーム ─┐
└──────────────────────────────────────┘

※ このフェーズで「使える」状態：メンバー登録・スキル運用が可能。
```

## Phase2: M3 プロジェクト + M4 勤怠
```
前提: Phase1のメンバー/スキル/認証が存在。

M3-01~05 (一覧/詳細/登録/アサイン/工数)
┌─プロジェクト一覧(会社ラベル, ステータス)────────────┐
│ 詳細で役割/工数h%/スキル適合を表示・編集               │
└────────────────────────────────────────┘

M4-01~04 (カレンダー/勤務予定/打刻/勤怠一覧)
┌─全体カレンダー: 週/月 + PJ/会社/メンバーfilter           │
┌─勤務予定登録: 週次フォーム + 前週コピー                   │
┌─打刻: 出勤→退勤 + Slack通知 + 二重出勤防止 + トースト       │
┌─勤怠一覧: 月次テーブル + OK/修正依頼 + 承認 + 会社別請求見込 │

※ このフェーズで「日々の勤怠とPJ稼働」が回り始める。
```

## Phase3: M5 請求 + M6 PL/CF
```
前提: Phase2までの勤怠・工数データが揃っている。

M5-01/02 請求
┌─月末締め管理: 未確認/確認/承認/請求生成 + 会社別請求額         │
┌─請求書一覧: Boost/SALT2別金額、DL/再生成/Slack送付              │

M6-01/02/03 PL & CF（管理者限定）
┌─PJ PL: 売上/コスト(工数按分)→粗利、月次推移                     │
┌─全社PL: 会社別サマリー、月次推移                                │
┌─CF: 入出金手入力テーブル + 推移グラフ                            │

※ このフェーズで「締め・請求・損益・CF」が有効化。
```

---

## M7-01 人事評価一覧（Phase2以降）

### 管理者ビュー
```
┌─人事評価（PAS評価）──────────────────────────────────────┐
│ 対象月: [2026-02 ▼]                          [＋ 評価入力]  │
├───┬─────────┬───────────┬───────────┬───────────┬──────┤
│ # │ メンバー  │ P(プロ)   │ A(外見)   │ S(スキル) │ 操作 │
├───┼─────────┼───────────┼───────────┼───────────┼──────┤
│ 1 │ 鈴木一郎  │ ★★★★☆ 4 │ ★★★☆☆ 3 │ ★★★★☆ 4 │ [編集]│
│ 2 │ 田中花子  │ ★★★★★ 5 │ ★★★★☆ 4 │ ★★★★★ 5 │ [編集]│
│ 3 │ 山田太郎  │   — 未評価 │   — 未評価 │   — 未評価 │[評価]│
├───┴─────────┴───────────┴───────────┴───────────┴──────┤
│ スコアラベル: 1=要改善 2=普通以下 3=標準 4=優秀 5=卓越        │
└──────────────────────────────────────────────────────────┘
```

### 社員・インターンビュー（自分のみ）
```
┌─自分の評価履歴───────────────────────────────────┐
│ 最新評価: 2026-02                                   │
│ ┌──────────────────────────────────────────────┐  │
│ │      P(プロ): ★★★★☆ 4 / 優秀                 │  │
│ │    A(アピア): ★★★☆☆ 3 / 標準                 │  │
│ │    S(スキル): ★★★★☆ 4 / 優秀                 │  │
│ │  総合: 3.67 ↑（前月比 +0.33）                  │  │
│ │  コメント: 今月は〇〇が改善された...             │  │
│ └──────────────────────────────────────────────┘  │
│ ──────── 過去の評価 ─────────────────────────────  │
│ 2026-01: P=3 A=3 S=4 / 2025-12: P=3 A=2 S=3       │
└──────────────────────────────────────────────────┘
```

## M7-02 人事評価入力モーダル
```
┌─人事評価入力 ─────────────────────────────────────┐
│ メンバー: [鈴木一郎 ▼]   対象月: [2026-02 ▼]         │
├──────────────────────────────────────────────────┤
│ P（プロフェッショナル）                               │
│ 責任感・期限厳守・コミュニケーション・チーム貢献         │
│  [1:要改善] [2:普通以下] [3:標準] ●[4:優秀] [5:卓越]  │
│                                                    │
│ A（アピアランス）                                    │
│ 清潔感・身だしなみ・立ち居振る舞い                      │
│  [1] [2] ●[3:標準] [4] [5]                         │
│                                                    │
│ S（スキル）                                          │
│ 専門技術力・業務遂行能力の総合評価                      │
│  [1] [2] [3] ●[4:優秀] [5]                         │
├──────────────────────────────────────────────────┤
│ 前月参照: P=3 A=3 S=3（2026-01）  総合 3.00          │
├──────────────────────────────────────────────────┤
│ 評価コメント（任意）:                                  │
│ [                                                  │
│  期限内に全タスク完了。来月はX面の改善が期待される...     │
│                                           ]        │
├──────────────────────────────────────────────────┤
│                          [キャンセル]  [保存する]    │
└──────────────────────────────────────────────────┘
```

---

## Phase別MVPワイヤー（更新版）

### Phase4: M7 人事評価（PAS評価）
```
前提: Phase1のメンバー管理が稼働していること。

M7-01 評価一覧（管理者: 全員表示 / 社員: 自分のみ）
M7-02 評価入力・編集（管理者のみ）

※ スキルマトリクス（M2）との違い:
  - M2: 個別技術スキルの詳細評価（React/Python等）
  - M7: P/A/Sの人事考課（高レベル総合評価）
  両者は独立して管理し、M1-02メンバー詳細に双方のサマリーを表示。
```
