# M1-01 メンバー一覧 — 要件定義 v1

## 機能要件

| 優先度 | 要件 |
|--------|------|
| Must | メンバー一覧を表示する（氏名・プロフィール画像・ステータス・所属会社） |
| Must | 氏名またはメールアドレスによるフリーワード部分一致検索ができる |
| Must | ステータス / 所属会社 / ロールでフィルタリングができる（複数フィルターの AND 組み合わせ可） |
| Must | フィルター変更時に即時（サーバーリクエスト or クライアントフィルター）で一覧を更新する |
| Must | 管理者には「新規追加」ボタンを表示し、M1-03 に遷移する |
| Must | 行クリックで M1-02 メンバー詳細に遷移する |
| Must | メールアドレス・入社日は管理者のみ表示する（それ以外のロールには非表示） |
| Should | インターンには氏名のみ表示する（プロフィール画像・ステータス等は非表示） |
| Could | ページネーションまたは無限スクロールに対応する（最大 100 名想定のため初期はなしで可） |

## 受け入れ条件（Acceptance Criteria）

- [ ] 全ロールでメンバー一覧が表示される
- [ ] 管理者でアクセスするとメールアドレス・入社日の列が表示される
- [ ] 社員・マネージャーでアクセスするとメールアドレス・入社日の列が非表示
- [ ] インターンでアクセスすると氏名のみ表示される
- [ ] 「田中」で検索すると氏名に「田中」を含むメンバーのみ表示される
- [ ] ステータスフィルターで「研修インターン」を選択すると該当メンバーのみ表示される
- [ ] 検索結果が 0 件の場合「該当するメンバーが見つかりません」が表示される
- [ ] データ取得失敗時にエラートーストとリトライボタンが表示される
- [ ] 管理者でのみ「新規追加」ボタンが表示される

## データ要件

| エンティティ | 項目 | 備考 |
|------------|------|------|
| `MEMBER` | id, name, profile_image_url, status, company, created_at | 全ロール表示対象 |
| `USER_ACCOUNT` | email, role | 管理者のみ表示 / フィルタ用 |
| `MEMBER` | joined_at | 管理者のみ表示 |

フィルタ選択肢:
- ステータス: 役員 / 社員 / 本採用インターン / 研修インターン / 研修メンバー
- 所属会社: ブーストコンサルティング / SALT2
- ロール: 管理者 / マネージャー / 社員 / インターン

## 非機能要件（暫定）

| 区分 | 内容 |
|------|------|
| 性能 | 一覧表示 3 秒以内。最大 100 名のデータを想定 |
| セキュリティ | 認証必須。管理者専用項目はサーバー側でロールを検証してからレスポンスに含める |
| 監査 | 一覧閲覧ログ（ユーザー・タイムスタンプ）を記録 |
| ログ | API エラーはサーバーログに記録 |

## 想定エラーと対処

| エラー条件 | 表示 / 挙動 | 対処方針 |
|-----------|------------|---------|
| 検索結果 0 件 | 「該当するメンバーが見つかりません」 | フィルタ条件を変更するよう案内 |
| データ取得失敗 | エラートースト + リトライボタン | ボタン押下で再取得 |
| 画像読み込み失敗 | デフォルトアバター画像を表示 | — |
